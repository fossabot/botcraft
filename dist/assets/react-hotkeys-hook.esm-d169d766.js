import{a as f}from"./react-c99c05cb.js";import"./index-2fdd8f58.js";function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},P.apply(this,arguments)}var j=["shift","alt","meta","mod","ctrl"],I={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function c(e){return(I[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function q(e){return j.includes(e)}function A(e,t){return t===void 0&&(t=","),e.split(t)}function H(e,t,n){t===void 0&&(t="+");var o=e.toLocaleLowerCase().split(t).map(function(a){return c(a)}),u={alt:o.includes("alt"),ctrl:o.includes("ctrl")||o.includes("control"),shift:o.includes("shift"),meta:o.includes("meta"),mod:o.includes("mod")},y=o.filter(function(a){return!j.includes(a)});return P({},u,{keys:y,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&B([c(e.key),c(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&O([c(e.key),c(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){d.clear()})})();var d=new Set;function N(e,t){t===void 0&&(t=",");var n=Array.isArray(e)?e:e.split(t);return n.every(function(o){return d.has(o.trim().toLowerCase())})}function B(e){var t=Array.isArray(e)?e:[e];d.has("meta")&&d.forEach(function(n){return!q(n)&&d.delete(n.toLowerCase())}),t.forEach(function(n){return d.add(n.toLowerCase())})}function O(e){var t=Array.isArray(e)?e:[e];e==="meta"?d.clear():t.forEach(function(n){return d.delete(n.toLowerCase())})}function F(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function W(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function $(e){return _(e,["input","textarea","select"])}function _(e,t){var n=e.target;t===void 0&&(t=!1);var o=n&&n.tagName;return t instanceof Array?!!(o&&t&&t.some(function(u){return u.toLowerCase()===o.toLowerCase()})):!!(o&&t&&t===!0)}function z(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var G=function(t,n,o){o===void 0&&(o=!1);var u=n.alt,y=n.meta,a=n.mod,v=n.shift,h=n.ctrl,s=n.keys,k=t.key,r=t.code,E=t.ctrlKey,g=t.metaKey,p=t.shiftKey,C=t.altKey,b=c(r),l=k.toLowerCase();if(!o){if(u===!C&&l!=="alt"||v===!p&&l!=="shift")return!1;if(a){if(!g&&!E)return!1}else if(y===!g&&l!=="meta"&&l!=="os"||h===!E&&l!=="ctrl"&&l!=="control")return!1}return s&&s.length===1&&(s.includes(l)||s.includes(b))?!0:s?N(s):!s},J=f.createContext(void 0),Q=function(){return f.useContext(J)};function M(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,o){return n&&M(e[o],t[o])},!0):e===t}var T=f.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),U=function(){return f.useContext(T)};function V(e){var t=f.useRef(void 0);return M(t.current,e)||(t.current=e),t.current}var R=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},X=typeof window<"u"?f.useLayoutEffect:f.useEffect;function ee(e,t,n,o){var u=f.useRef(null),y=f.useRef(!1),a=n instanceof Array?o instanceof Array?void 0:o:n,v=e instanceof Array?e.join(a==null?void 0:a.splitKey):e,h=n instanceof Array?n:o instanceof Array?o:void 0,s=f.useCallback(t,h??[]),k=f.useRef(s);h?k.current=s:k.current=t;var r=V(a),E=U(),g=E.enabledScopes,p=Q();return X(function(){if(!((r==null?void 0:r.enabled)===!1||!z(g,r==null?void 0:r.scopes))){var C=function(i,K){var S;if(K===void 0&&(K=!1),!($(i)&&!_(i,r==null?void 0:r.enableOnFormTags))&&!(r!=null&&r.ignoreEventWhen!=null&&r.ignoreEventWhen(i))){if(u.current!==null&&document.activeElement!==u.current&&!u.current.contains(document.activeElement)){R(i);return}(S=i.target)!=null&&S.isContentEditable&&!(r!=null&&r.enableOnContentEditable)||A(v,r==null?void 0:r.splitKey).forEach(function(D){var x,w=H(D,r==null?void 0:r.combinationKey);if(G(i,w,r==null?void 0:r.ignoreModifiers)||(x=w.keys)!=null&&x.includes("*")){if(K&&y.current)return;if(F(i,w,r==null?void 0:r.preventDefault),!W(i,w,r==null?void 0:r.enabled)){R(i);return}k.current(i,w),K||(y.current=!0)}})}},b=function(i){i.key!==void 0&&(B(c(i.code)),((r==null?void 0:r.keydown)===void 0&&(r==null?void 0:r.keyup)!==!0||r!=null&&r.keydown)&&C(i))},l=function(i){i.key!==void 0&&(O(c(i.code)),y.current=!1,r!=null&&r.keyup&&C(i,!0))},L=u.current||(a==null?void 0:a.document)||document;return L.addEventListener("keyup",l),L.addEventListener("keydown",b),p&&A(v,r==null?void 0:r.splitKey).forEach(function(m){return p.addHotkey(H(m,r==null?void 0:r.combinationKey,r==null?void 0:r.description))}),function(){L.removeEventListener("keyup",l),L.removeEventListener("keydown",b),p&&A(v,r==null?void 0:r.splitKey).forEach(function(m){return p.removeHotkey(H(m,r==null?void 0:r.combinationKey,r==null?void 0:r.description))})}}},[v,r,g]),u}export{ee as u};
